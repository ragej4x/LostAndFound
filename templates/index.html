{% extends "base.html" %}

{% block title %}Home - Lost and Found System{% endblock %}

{% block content %}
<form action="{{ url_for('search') }}" method="GET" class="search-form">
    <div class="search-container">
        <input type="text" name="q" placeholder="Search items by name, location, or description..." class="search-input" required style="box-shadow: gray 1px 1px 3px 1px ;">
        <select name="type" class="search-filter" style="box-shadow: gray 1px 1px 3px 1px ;">
            <option value="both">All Items</option>
            <option value="lost">Lost Items</option>
            <option value="found">Found Items</option>
        </select>
        <button type="submit" class="btn btn-primary">Search</button>
    </div>
</form>
    

<div class="hero-section">
    <h1 class="hero-title">Lost Something? Found Something?</h1>
    <p class="hero-subtitle">Connect with your community to recover lost items or return found belongings</p>
    

    <div class="hero-buttons">
        {% if current_user.is_authenticated %}
            <a href="{{ url_for('report_lost') }}" class="btn btn-primary">Report Lost Item</a>
            <a href="{{ url_for('report_found') }}" class="btn btn-secondary">Report Found Item</a>
        {% else %}
            <a href="{{ url_for('register') }}" class="btn btn-primary">Get Started</a>
            <a href="{{ url_for('login') }}" class="btn btn-secondary">Login</a>
        {% endif %}
    </div>
</div>

<div class="items-section">
    <div class="section-header">
        <h2>Recent Lost Items</h2>
        <a href="{{ url_for('lost_items') }}" class="view-all">View All →</a>
    </div>
    {% if lost_items %}
        <div class="items-grid">
            {% for item in lost_items %}
                <div class="item-card">
                    <div class="item-header">
                        <h3>{{ item.title }}</h3>
                        <span class="item-status status-lost">Lost</span>
                    </div>
                    <p class="item-description">{{ item.description[:100] }}{% if item.description|length > 100 %}...{% endif %}</p>
                    <div class="item-details">
                        <p><strong>Location:</strong> {{ item.location }}</p>
                        <p><strong>Date Lost:</strong> {{ item.date_lost.strftime('%B %d, %Y') }}</p>
                    </div>
                    <a href="{{ url_for('lost_item_detail', item_id=item.id) }}" class="btn btn-sm">View Details</a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="no-items">No lost items reported yet.</p>
    {% endif %}
</div>

<div class="items-section">
    <div class="section-header">
        <h2>Recent Found Items</h2>
        <a href="{{ url_for('found_items') }}" class="view-all">View All →</a>
    </div>
    {% if found_items %}
        <div class="items-grid">
            {% for item in found_items %}
                <div class="item-card">
                    <div class="item-header">
                        <h3>{{ item.title }}</h3>
                        <span class="item-status status-found">Found</span>
                    </div>
                    <p class="item-description">{{ item.description[:100] }}{% if item.description|length > 100 %}...{% endif %}</p>
                    <div class="item-details">
                        <p><strong>Location:</strong> {{ item.location }}</p>
                        <p><strong>Date Found:</strong> {{ item.date_found.strftime('%B %d, %Y') }}</p>
                    </div>
                    <a href="{{ url_for('found_item_detail', item_id=item.id) }}" class="btn btn-sm">View Details</a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="no-items">No found items reported yet.</p>
    {% endif %}
</div>
{% endblock %}

